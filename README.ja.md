# ネットワーク診断ツール

このプロジェクトは、Amazon Bedrockを使用してネットワーク構成を分析し、改善点を提案するツールを提供します。

## アーキテクチャ

```
+----------------+     +-------------+     +----------------+
|                |     |             |     |                |
|   CloudFront   +---->+  S3 Bucket  |     |  API Gateway   |
|  Distribution  |     |  (WebApp)   |     |                |
|                |     |             |     +-------+--------+
+----------------+     +-------------+             |
                                                   v
                                          +--------+---------+
                                          |                  |
                                          | Lambda Function  |
                                          | (Bedrock Client) |
                                          |                  |
                                          +--------+---------+
                                                   |
                       +-------------+             |
                       |             |<------------+
                       | DynamoDB    |             |
                       |             |             |
                       +-------------+             v
                                              +----+----+
                                              |         |
                                              | S3      |
                                              | Results |
                                              |         |
                                              +---------+
```

## 機能

- ネットワーク構成をJSON形式で入力
- Amazon Bedrockを使用した構成分析
- セキュリティ問題の特定
- コスト最適化の提案
- パフォーマンス改善のアドバイス
- ベストプラクティスの推奨

## 始め方

### 必要条件

- AWS CLI
- Node.js 18.x以上
- AWS CDK v2

### デプロイ方法

1. AWSアカウントの認証情報を設定：
   ```
   # 環境変数を使用する場合
   export AWS_ACCESS_KEY_ID="あなたのアクセスキーID"
   export AWS_SECRET_ACCESS_KEY="あなたのシークレットアクセスキー"
   export AWS_DEFAULT_REGION="ap-northeast-1"  # 東京リージョンの例
   
   # または、AWS CLIの設定ウィザードを使用
   aws configure
   ```

2. 依存関係のインストール：
   ```
   npm install
   ```

3. CDKスタックのデプロイ：
   ```
   npx cdk deploy
   ```

4. デプロイ完了後、出力されるWebアプリケーションURLとAPI URLを確認してください。

5. フロントエンドのindex.htmlファイル内の`API_ENDPOINT_URL`を、出力されたAPI URLに置き換えてください。

### リソースの削除方法

1. CDKスタックを削除するには、以下のコマンドを実行します：
   ```
   npx cdk destroy
   ```

2. 確認メッセージが表示されたら、`y`を入力して削除を確定します。

3. 削除が完了すると、以下のリソースが自動的に削除されます：
   - S3バケット（WebアプリケーションとResults）
   - CloudFrontディストリビューション
   - API Gateway
   - Lambda関数
   - DynamoDBテーブル
   - IAMロールとポリシー

4. 注意：CDKの`removalPolicy`が`DESTROY`に設定されているため、S3バケットとDynamoDBテーブル内のデータも削除されます。重要なデータがある場合は、事前にバックアップを取ってください。

## 使用方法

1. ブラウザでWebアプリケーションURLにアクセス
2. ネットワーク構成をJSON形式で入力（サンプルデータが初期表示されます）
3. 「分析する」ボタンをクリック
4. 分析結果を確認

## ライセンス

このプロジェクトはMITライセンスの下で提供されています - 詳細はLICENSEファイルを参照してください。
